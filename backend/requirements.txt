# PHASE 1B REQUIREMENTS - Auto-generated by build-requirements.py
# DO NOT EDIT MANUALLY - Edit requirements-core.txt and requirements-ml-active.txt instead

# =============================================================================
# CORE DEPENDENCIES (from requirements-core.txt)
# =============================================================================
# CORE REQUIREMENTS - Essential for all deployments
# Always installed on Railway for basic functionality

# Core FastAPI and web framework
fastapi==0.104.1
uvicorn==0.24.0
pydantic==2.5.0
pydantic-settings==2.1.0

# Database and ORM
sqlalchemy==2.0.23
alembic==1.13.1
psycopg2-binary==2.9.10

# Authentication and security
python-jose[cryptography]==3.3.0
python-multipart==0.0.6
bcrypt==4.1.2
passlib[bcrypt]==1.7.4
email-validator==2.1.0

# HTTP clients and networking
aiohttp==3.9.0
requests==2.31.0
httpx==0.24.1

# AI services (lightweight)
anthropic==0.31.2
openai>=1.10.0,<2.0.0  # Updated for langchain-openai compatibility
boto3==1.34.0

# Vector databases and search
pinecone>=3.0.0
redis==5.0.1

# Essential data processing (Phase 1A minimum) - NumPy 1.x for torch compatibility
numpy<2.0.0,>=1.26.2
pandas>=2.0.0

# Utilities
python-dotenv==1.0.0

# =============================================================================  
# PHASE 1B ML DEPENDENCIES (from requirements-ml-active.txt)
# =============================================================================
# PHASE 1B ML REQUIREMENTS - GraphSage Neural Networks + Advanced ML
# This file gets copied to requirements.txt when enabling ML features

# Core PyTorch stack (CPU-optimized for Railway)
torch==2.1.0 --index-url https://download.pytorch.org/whl/cpu  # CPU-only version (~200MB vs 2GB)
torch-geometric==2.4.0  # GraphSage neural networks - CRITICAL for 15+ services
scikit-learn==1.3.0     # ML algorithms
sentence-transformers==2.2.2  # Text embeddings
huggingface_hub<0.19.0  # Fix cached_download compatibility issue
langchain>=0.1.17  # For ESCO formatting service - compatible version
langchain-openai>=0.1.6  # For ESCO OpenAI integration - compatible version

# Phase 1B Critical additions for failing services
matplotlib>=3.7.0       # Core visualization (~100MB)
scipy>=1.11.0          # Scientific computing (~100MB)

# Essential for embeddings but lightweight (handled in requirements-core.txt)
# numpy<2.0.0,>=1.26.2  # Already in requirements-core.txt - NumPy 1.x for torch compatibility
# pandas>=2.0.0  # Already in requirements-core.txt

# Phase 1B Features Enabled:
# ✅ ESCO embedding service (torch_geometric)
# ✅ Peer matching service (scipy compatibility)
# ✅ GraphSage neural networks (torch_geometric)
# ✅ Skill tree visualization (matplotlib)
# ✅ Advanced similarity calculations (scipy)
# ✅ UserProfile embedding generation
# ✅ SavedRecommendation ML features
# 
# Total size: ~1GB (Phase 1A: 500MB + Phase 1B: 500MB)

# =============================================================================
# BUILD INFO
# =============================================================================
# Generated: 1753076270.7541747 (core) + 1753075145.647452 (ML)
# Total packages: ~40 packages, ~1GB deployment size
# Expected Railway build time: 6-8 minutes (first build), 1-3 minutes (code changes)
# Docker optimization: Use Dockerfile.ultra-optimized for maximum caching
